{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/Tecent/TIM File/uniapp/uniapp/App.vue?0aa7","uni-app:///App.vue","webpack:///D:/Tecent/TIM File/uniapp/uniapp/App.vue?eca5","webpack:///D:/Tecent/TIM File/uniapp/uniapp/App.vue?4bf2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","uni","$http","baseUrl","beforeRequest","options","token","getStorageSync","showToast","title","icon","Error","method","header","Authorization","console","log","showLoading","afterRequest","hasOwnProperty","setStorageSync","Token","hideLoading","$showMsg","duration","Vue","config","productionTip","App","mpType","prototype","$onLaunched","Promise","resolve","$isResolve","$store","store","$util","util","app","$mount","onLaunch","addr","coupon","onLoad","onShow","onHide","methods","GetUserInfo","desc","lang","success","fail","login","provider","url","data","code"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\nimport App from './App'\nimport store from './store'\nimport util from './common/util.js'\nimport {$http} from '@escook/request-miniprogram'\n\nuni.$http = $http\n$http.baseUrl = 'http://47.113.198.5:8088'\n\n$http.beforeRequest = function(options) {\n\tlet token = uni.getStorageSync('token')\n\tif(!token){\n\t\tuni.showToast({\n\t\t      title: '请先登录',\n\t\t      icon: 'none'\n\t\t})\n\t\tthrow new Error('请先登录')\n\t}\n\tif (options.method == \"POST\") {\n\t    options.header = {\n\t      'Content-Type': 'application/json',\n\t    }\n\t}\n\toptions.header.Authorization = token\n\tconsole.log(options.header)\n\tuni.showLoading({\n\t\ttitle: '数据加载中...',\n\t})\n\t\n}\n\n$http.afterRequest = function(options) {\n\tconsole.log(options.header)\n\tif(options.header.hasOwnProperty('Token')){\n\t\tuni.setStorageSync('token', options.header.Token)\n\t}\n\tuni.hideLoading()\n}\n\nuni.$showMsg = function(title = '数据加载失败!', duration = 1500) {\n\tuni.showToast({\n\t\ttitle:title,\n\t\tduration:duration,\n\t\ticon:'none',\n\t})\n}\n\nVue.config.productionTip = false\n\nApp.mpType = 'app'\n\nVue.prototype.$onLaunched = new Promise(resolve => {\n    Vue.prototype.$isResolve = resolve\n})\n\nVue.prototype.$store = store\nVue.prototype.$util = util\n\nconst app = new Vue({\n\tstore,\n    ...App\n})\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\n\texport default {\n\t\tonLaunch: async function() {\r\n\t\t\t// this.GetUserInfo()\r\n\t\t\tthis.login()\r\n\t\t\tconst { data: addr } = await uni.$http.get('/addr/get')\r\n\t\t\tthis.$store.state.addresses = addr.data\r\n\t\t\tthis.$store.state.default_address = this.$store.state.addresses.find(item => item.isDefault == 1)\r\n\t\t\tconst { data: coupon } = await uni.$http.get('/coupon/get')\r\n\t\t\tthis.$store.state.coupon = coupon.data\n\t\t},\r\n\t\tonLoad: async function() {\r\n\t\t\tawait this.$onLaunched;\r\n\t\t},\n\t\tonShow: function() {\n\t\t},\n\t\tonHide: function() {\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tGetUserInfo() {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\tdesc: '登录',\r\n\t\t\t\t\tlang: 'zh_CN',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('获取的信息', res.userInfo);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tconsole.log('用户拒绝了授权');\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '授权失败',\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tlogin() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '登录中...'\r\n\t\t\t\t});\r\n\t\t\t\t// 获取登录用户 code\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.code) {\r\n\t\t\t\t\t\t\tlet code = res.code;\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: \"http://127.0.0.1:8088/user/login\",\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tcode: res.code //wx.login 登录成功后的code \r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: function(cts) {\r\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('user', cts.data.data.user)\r\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('token', cts.data.data.token)\r\n\t\t\t\t\t\t\t\t\tconsole.log('token='+cts.data.data.token)\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t// 登录成功后的跳转\r\n\t\t\t\t\t\t\t\t\t\turl: 'pages/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '登录失败！',\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconsole.log('登录失败！' + res.errMsg)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t  });\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t@import '~@/static/styles/app.scss';\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1685455656800\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}