{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/Tecent/TIM File/uniapp/uniapp/pages/index/index.vue?7ece","webpack:///D:/Tecent/TIM File/uniapp/uniapp/pages/index/index.vue?8e71","webpack:///D:/Tecent/TIM File/uniapp/uniapp/pages/index/index.vue?172a","uni-app:///pages/index/index.vue","webpack:///D:/Tecent/TIM File/uniapp/uniapp/pages/index/index.vue?0e98","webpack:///D:/Tecent/TIM File/uniapp/uniapp/pages/index/index.vue?3e3b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","Actions","CartBar","ProductModal","cartPopup","data","categories","cart","product","currentCategoryId","notices","ads","productModalVisible","cartPopupShow","productsScrollTop","showSearch","computed","productCartNum","onLoad","onShow","methods","modeSet","uni","value","getMenu","res","switchOrderType","handleAddToCart","dishId","cateId","dishName","dishPrice","number","dishImg","is_single","materials_text","handleMinusFromCart","index","showProductDetailModal","handleAddToCartInModal","closeProductDetailModal","openCartDetailsPopup","clearCart","handleMenuSelected","productsScroll","calcSize","view","size","h","item","pay","url"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACgHnnB;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAMA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,MACA,oJACA;MACA;MACA,2JACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC,0CACA;IACAC;MAAA;MAAA;MACA;QAAA;UACA;YACA;UACA;UACA;QACA;MAAA;IACA;EAAA,EACA;EACAC;IACA;EACA;EACAC;IACA;EACA;EACAC,yCACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC;cAAA;gBAAAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAF;cAAA;gBAAA;gBAAAG;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBAAA,kCACAH;cAAA;gBACA;gBACA;gBACA;kBAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAI;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACA,aAGA;UACA;UACA;QACA;MACA;MAEA;QACA;QACA;QACA;MACA;;MAEA;MACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QAAA;QACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;QAAA;QACA;QACAC;UAAA;QAAA;MACA,SAGA;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;MACA;QAAA;MAAA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACAC;QACAC;MACA;QACAC;MACA;MACA;QACA;QACAF;UACAC;QACA;UACAE;UACAD;UACAC;QACA;MACA;IACA;IACAC;MACA5B;MACAA;QACA6B;MACA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;;AC3RA;AAAA;AAAA;AAAA;AAA0oC,CAAgB,gnCAAG,EAAC,C;;;;;;;;;;;ACA9pC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l2 = _vm.__map(_vm.categories, function (category, index) {\n    var $orig = _vm.__get_orig(category)\n    var l1 = _vm.__map(category.products, function (product, key) {\n      var $orig = _vm.__get_orig(product)\n      var l0 = _vm.__map(product.labels, function (label, __i0__) {\n        var $orig = _vm.__get_orig(label)\n        var g0 = _vm.$util.hexToRgba(label.labelColor, 0.2)\n        return {\n          $orig: $orig,\n          g0: g0,\n        }\n      })\n      var m0 = _vm.productCartNum(product.dishId)\n      return {\n        $orig: $orig,\n        l0: l0,\n        m0: m0,\n      }\n    })\n    return {\n      $orig: $orig,\n      l1: l1,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<view class=\"header\">\n\t\t\t<view class=\"center\">\n\t\t\t\t<view class=\"store\">\n\t\t\t\t\t<view class=\"title\">\n\t\t\t\t\t\t<image :src=\"orderType == 'takein' ? \n\t\t\t\t\t\t\t\t'/static/images/common/star_normal.png' : \n\t\t\t\t\t\t\t\t'/static/images/order/order_icon_address.png'\" \n\t\t\t\t\t\t\t\tclass=\"left-icon\" />\n\t\t\t\t\t\t<!-- 为了测试方便，这里使用静态店铺数据 -->\n\t\t\t\t\t\t<view class=\"address\">{{ orderType == 'takeout' ? address.complete_address : '中心城店' }}</view>\n\t\t\t\t\t\t<image src=\"/static/images/common/black_arrow_right.png\" class=\"right-icon\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- 外卖&自取switch begin -->\n\t\t\t\t\t<view class=\"buttons\">\n\t\t\t\t\t\t<button type=\"default\" class=\"button\" \n\t\t\t\t\t\t\t\t:class=\"{active: orderType == 'takein'}\" plain \n\t\t\t\t\t\t\t\thover-class=\"none\" @tap=\"switchOrderType\">\n\t\t\t\t\t\t\t自取\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button type=\"default\" class=\"button\" \n\t\t\t\t\t\t\t\t:class=\"{active: orderType == 'takeout'}\" plain \n\t\t\t\t\t\t\t\thover-class=\"none\" @tap=\"switchOrderType\">\n\t\t\t\t\t\t\t外卖\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- 外卖&自取switch end -->\n\t\t\t\t</view>\n\t\t\t\t<view class=\"location\">距离您622m</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 滚动公告栏 end -->\n\t\t<view class=\"main\">\n\t\t\t<!-- 左侧菜单 begin -->\n\t\t\t<scroll-view class=\"menu-bar\" scroll-y scroll-with-animation>\n\t\t\t\t<view class=\"wrapper\">\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"handleMenuSelected(category.cateId)\" \n\t\t\t\t\t\t  :class=\"{active: currentCategoryId == category.id}\" v-for=\"(category, index) in categories\" :key=\"index\">\n\t\t\t\t\t\t<image :src=\"category.cateImg\" class=\"image\" mode=\"widthFix\"></image>\n\t\t\t\t\t\t<view class=\"title\">{{ category.cateName }}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t\t<!-- 左侧菜单 end -->\n\t\t\t<!-- 右侧商品列表 begin -->\n\t\t\t<scroll-view class=\"product-section\" scroll-y scroll-with-animation :scroll-top=\"productsScrollTop\" @scroll=\"productsScroll\">\n\t\t\t\t<view class=\"wrapper\">\n\t\t\t\t\t<view id=\"ads\">\n\t\t\t\t\t\t<!-- 广告栏 begin -->\n\t\t\t\t\t\t<swiper class=\"ads1\" :indicator-dots=\"true\" :autoplay=\"true\" :interval=\"3000\" :duration=\"1000\" circular>\n\t\t\t\t\t\t\t<swiper-item v-for=\"(ad, index) in ads\" :key=\"index\">\n\t\t\t\t\t\t\t\t<image :src=\"ad\" class=\"w-100\" mode=\"widthFix\"></image>\n\t\t\t\t\t\t\t</swiper-item>\n\t\t\t\t\t\t</swiper>\n\t\t\t\t\t\t<!-- 广告栏 end -->\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- 商品 begin -->\n\t\t\t\t\t<view class=\"products-list\" v-for=\"(category, index) in categories\" :key=\"index\" :id=\"`products-${category.cateId}`\">\n\t\t\t\t\t\t<view class=\"category-name\">{{ category.cateName }}</view>\n\t\t\t\t\t\t<view class=\"products\">\n\t\t\t\t\t\t\t<view class=\"product\" v-for=\"(product, key) in category.products\" :key=\"key\" \n\t\t\t\t\t\t\t\t@tap=\"showProductDetailModal(product)\">\n\t\t\t\t\t\t\t\t<image :src=\"product.dishImg\" mode=\"widthFix\" class=\"image\"></image>\n\t\t\t\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t\t\t\t<view class=\"name\">{{ product.dishName }}</view>\n\t\t\t\t\t\t\t\t\t<view class=\"labels\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"label\" \n\t\t\t\t\t\t\t\t\t\t:style=\"{color: labelColor, background: $util.hexToRgba(label.labelColor, 0.2)}\"\n\t\t\t\t\t\t\t\t\t\t v-for=\"label in product.labels\" :key=\"label.labelId\">{{ label.labelName }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"label\" style=\"color: aliceblue;background:#c85662\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ product.remark }}\r\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"description\">{{ product.description }}</view>\n\t\t\t\t\t\t\t\t\t<view class=\"price\">\n\t\t\t\t\t\t\t\t\t\t<view>￥{{ product.dishPrice }}</view>\n\t\t\t\t\t\t\t\t\t\t<actions :materials-btn=\"false\" \n\t\t\t\t\t\t\t\t\t\t\t\t@materials=\"showProductDetailModal(product)\" \n\t\t\t\t\t\t\t\t\t\t\t\t:number=\"productCartNum(product.dishId)\"\n\t\t\t\t\t\t\t\t\t\t\t\t@add=\"handleAddToCart(product)\" \n\t\t\t\t\t\t\t\t\t\t\t\t@minus=\"handleMinusFromCart(product)\" />\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- 商品 end -->\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t\t<!-- 右侧商品列表 end -->\n\t\t</view>\n\t\t<!-- 商品详情 modal begin -->\n\t\t<product-modal :product=\"product\" \n\t\t\t\t\t\t:visible=\"productModalVisible\" \n\t\t\t\t\t\t@cancel=\"closeProductDetailModal\" \n\t\t\t\t\t\t@add-to-cart=\"handleAddToCartInModal\" \n\t\t/>\n\t\t<!-- 商品详情 modal end -->\n\t\t<!-- 购物车栏 begin -->\n\t\t<cart-bar :cart=\"cart\" \n\t\t\t\t  @add=\"handleAddToCart\" \n\t\t\t\t  @minus=\"handleMinusFromCart\"\n\t\t\t\t  @clear=\"clearCart\"\n\t\t\t\t  @pay=\"pay\"\n\t\t/>\n\t\t<!-- 购物车栏 end -->\n\t\t<!-- <search :show=\"showSearch\" :categories=\"categories\" @hide=\"showSearch=false\" @choose=\"showProductDetailModal\"></search> -->\n\t</view>\n</template>\n\n<script>\n\timport {mapState, mapMutations} from 'vuex'\n\timport Actions from './components/actions/actions.vue'\n\timport CartBar from './components/cartbar/cartbar.vue'\n\timport ProductModal from './components/product-modal/product-modal.vue'\n\timport cartPopup from './components/cart-popup/cart-popup.vue'\n\t\n\texport default {\n\t\tcomponents: {\n\t\t\tActions,\n\t\t\tCartBar,\n\t\t\tProductModal,\n\t\t\tcartPopup,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcategories: [],\n\t\t\t\tcart: [],\n\t\t\t\tproduct: {},\n\t\t\t\tcurrentCategoryId: 0,\n\t\t\t\tnotices: [],\n\t\t\t\tads: [\n\t\t\t\t\t\"https://assets.nick.com/uri/mgid:arc:imageassetref:web.b.nick.tv:f37ef7a3-8b23-4f8c-92e5-2ab33e8e61ad?quality=0.7&gen=ntrn&legacyStatusCode=true\",\n\t\t\t\t\t\"https://assets.nick.com/uri/mgid:arc:imageassetref:web.b.nick.tv:86917b23-91e0-4063-b804-1bc919148aca?quality=0.7&gen=ntrn&legacyStatusCode=true\",\r\n\t\t\t\t\t//\"http://127.0.0.1:8088/static/imgs/burger.png\"\n\t\t\t\t\t\"https://officialwebsitestorage.blob.core.chinacloudapi.cn/public/upload/photo_db/2023/04/13/202304132106464958/202304132106464958_640_398.jpg?&rand=0827\"\n\t\t\t\t],\n\t\t\t\tproductModalVisible: false,\n\t\t\t\tcartPopupShow: false,\n\t\t\t\tproductsScrollTop: 0,\n\t\t\t\tshowSearch: false\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t...mapState(['orderType', 'address']),\n\t\t\tproductCartNum() {\t//计算单个产品添加到购物车的数量\n\t\t\t\treturn id => this.cart.reduce((acc, cur) => {\n\t\t\t\t\t\tif(cur.dishId === id) {\n\t\t\t\t\t\t\treturn acc += cur.number\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn acc\n\t\t\t\t\t}, 0)\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.getMenu()\n\t\t},\n\t\tonShow() {\n\t\t\tthis.modeSet()\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations(['SET_ORDER_TYPE']),\n\t\t\t\n\t\t\tasync modeSet(){\n\t\t\t\tconst value = await uni.getStorageSync('take_flag')\n\t\t\t\tthis.SET_ORDER_TYPE(value)\n\t\t\t},\n\t\t\tasync getMenu() {\n\t\t\t\tconst { data: res } = await uni.$http.get('/menu')\n\t\t\t\tif (res.code != 1)\n\t\t\t\t\treturn uni.$showMsg()\n\t\t\t\tthis.categories = res.data\n\t\t\t\tthis.currentCategoryId = this.categories.length && this.categories[0].cateId\n\t\t\t\tthis.$nextTick(() => this.calcSize())\n\t\t\t},\n\t\t\t\n\t\t\tswitchOrderType() {\n\t\t\t\tif(this.orderType === 'takein') {\n\t\t\t\t\tthis.SET_ORDER_TYPE('takeout')\n\t\t\t\t} else {\n\t\t\t\t\tthis.SET_ORDER_TYPE('takein')\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleAddToCart(product) {\t//添加到购物车\n\t\t\t\t// 查看购物车是否已经存在此产品\n\t\t\t\tconst index = this.cart.findIndex(item => {\n\t\t\t\t\tif(false) { //!product.is_single\n\t\t\t\t\t\t// 组合产品需要都匹配id和材料清单\n\t\t\t\t\t\treturn (item.dishId == product.dishId) && (item.materials_text == product.materials_text)\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 单个产品只需id匹配\n\t\t\t\t\t\treturn item.dishId === product.dishId\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif(index > -1) {\n\t\t\t\t\t// 若购物车已存在此产品，数目+1\n\t\t\t\t\tthis.cart[index].number += (product.number || 1)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 若购物车不存在该产品，则push进购物车\n\t\t\t\tthis.cart.push({\n\t\t\t\t\tdishId: product.dishId,\n\t\t\t\t\tcateId: product.cateId,\n\t\t\t\t\tdishName: product.dishName,\n\t\t\t\t\tdishPrice: product.dishPrice,\n\t\t\t\t\tnumber: product.number || 1,\n\t\t\t\t\tdishImg: product.dishImg,\n\t\t\t\t\tis_single: true,  //product.is_single,\n\t\t\t\t\tmaterials_text: product.materials_text || ''\n\t\t\t\t})\n\t\t\t},\n\t\t\thandleMinusFromCart(product) { //从购物车减商品\n\t\t\t\tlet index\n\t\t\t\tif(true) {  // product.is_single\n\t\t\t\t\t// 单个产品直接查找id\n\t\t\t\t   index = this.cart.findIndex(item => item.dishId == product.dishId)\n\t\t\t\t} else {\n\t\t\t\t\t// 组合产品查找id和材料清单\n\t\t\t\t   index = this.cart.findIndex(item => (item.dishId == product.dishId) && (item.materials_text == product.materials_text))\n\t\t\t\t}\n\t\t\t\tthis.cart[index].number -= 1 \n\t\t\t\tif(this.cart[index].number <= 0) {\n\t\t\t\t\tthis.cart.splice(index, 1) // 若-1后数量小于0则从购物车中删除\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowProductDetailModal(product) {\n\t\t\t\tthis.product = product\n\t\t\t\tthis.productModalVisible = true\n\t\t\t},\n\t\t\thandleAddToCartInModal(product) {\n\t\t\t\tthis.handleAddToCart(product)\n\t\t\t\tthis.closeProductDetailModal()\n\t\t\t},\n\t\t\tcloseProductDetailModal() {\n\t\t\t\tthis.productModalVisible = false\n\t\t\t\tthis.product = {}\n\t\t\t},\n\t\t\topenCartDetailsPopup() {\n\t\t\t\tthis.$refs['cartPopup'].open()\n\t\t\t},\n\t\t\tclearCart() {\n\t\t\t\tthis.cart = []\n\t\t\t},\n\t\t\thandleMenuSelected(id) {\n\t\t\t\tthis.productsScrollTop = this.categories.find(item => item.cateId == id).top\n\t\t\t\tthis.$nextTick(() => this.currentCategoryId = id)\n\t\t\t},\n\t\t\tproductsScroll({detail}) {\n\t\t\t\tconst {scrollTop} = detail\n\t\t\t\tlet tabs = this.categories.filter(item=> item.top <= scrollTop).reverse()\n\t\t\t\tif(tabs.length > 0){\n\t\t\t\t\tthis.currentCategoryId = tabs[0].cateId\n\t\t\t\t}\n\t\t\t},\n\t\t\tcalcSize() {\n\t\t\t\tlet h = 0\n\t\t\t\tlet view = uni.createSelectorQuery().select('#ads')\n\t\t\t\tview.fields({\n\t\t\t\t\tsize: true\n\t\t\t\t}, data => {\n\t\t\t\t\th += Math.floor(data.height)\n\t\t\t\t}).exec()\n\t\t\t\tthis.categories.forEach(item => {\n\t\t\t\t\tlet view = uni.createSelectorQuery().select(`#products-${item.cateId}`)\n\t\t\t\t\tview.fields({\n\t\t\t\t\t\tsize: true\n\t\t\t\t\t}, data => {\n\t\t\t\t\t\titem.top = h\n\t\t\t\t\t\th += Math.floor(data.height)\n\t\t\t\t\t\titem.bottom = h\n\t\t\t\t\t}).exec()\n\t\t\t\t})\n\t\t\t},\n\t\t\tpay() {\n\t\t\t\tuni.setStorageSync('cart', this.cart)\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/pay/pay?type=' + this.orderType\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t@import './index.scss';\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1685446926801\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}